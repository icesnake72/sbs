# ================================================
# GitHub Actions: í”„ë¡ íŠ¸ì—”ë“œ ìë™ ë°°í¬ ì›Œí¬í”Œë¡œìš°
# ================================================
#
# íŠ¸ë¦¬ê±°: main ë¸Œëœì¹˜ì— pushë  ë•Œ ì‹¤í–‰
#
# ì›Œí¬í”Œë¡œìš° ë‹¨ê³„:
# 1. ì½”ë“œ ì²´í¬ì•„ì›ƒ
# 2. Docker ì´ë¯¸ì§€ ë¹Œë“œ
# 3. GitHub Container Registry(GHCR)ì— ì´ë¯¸ì§€ í‘¸ì‹œ
# 4. Lightsail ì„œë²„ì— SSH ì ‘ì†í•˜ì—¬ ë°°í¬
#
# ================================================

# ì›Œí¬í”Œë¡œìš° ì´ë¦„ (GitHub Actions íƒ­ì—ì„œ ì´ ì´ë¦„ìœ¼ë¡œ í‘œì‹œë¨)
name: Deploy Frontend to Lightsail

# ========================================
# íŠ¸ë¦¬ê±° ì„¤ì •: ì–¸ì œ ì´ ì›Œí¬í”Œë¡œìš°ë¥¼ ì‹¤í–‰í• ì§€ ì •ì˜
# ========================================
on:
  # main ë¸Œëœì¹˜ì— pushë  ë•Œ ì‹¤í–‰
  push:
    branches:
      - main

  # ìˆ˜ë™ ì‹¤í–‰ í—ˆìš© (GitHub Actions íƒ­ì—ì„œ "Run workflow" ë²„íŠ¼)
  workflow_dispatch:

# ========================================
# í™˜ê²½ ë³€ìˆ˜: ì›Œí¬í”Œë¡œìš° ì „ì²´ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë³€ìˆ˜ë“¤
# ========================================
env:
  # GHCR(GitHub Container Registry) ì£¼ì†Œ
  # - GitHubì—ì„œ ì œê³µí•˜ëŠ” ë¬´ë£Œ Docker ì´ë¯¸ì§€ ì €ì¥ì†Œ
  # - ghcr.ioëŠ” GitHub Container Registryì˜ ë„ë©”ì¸ ì£¼ì†Œ
  REGISTRY: ghcr.io

  # Docker ì´ë¯¸ì§€ ì´ë¦„
  # - ${{ github.repository }}ëŠ” GitHubì´ ìë™ìœ¼ë¡œ ì œê³µí•˜ëŠ” ê°’
  # - í˜•ì‹: "ì‚¬ìš©ìëª…/ì €ì¥ì†Œëª…" (ì˜ˆ: icesnake72/sbs)
  # - ìµœì¢… ì´ë¯¸ì§€ ê²½ë¡œ: ghcr.io/icesnake72/sbs:latest
  IMAGE_NAME: ${{ github.repository }}

# ========================================
# ì‘ì—…(Job) ì •ì˜: ì‹¤ì œë¡œ ì‹¤í–‰í•  ì‘ì—…ë“¤ì˜ ëª©ë¡
# ========================================
jobs:
  # ========================================
  # ë¹Œë“œ ë° í‘¸ì‹œ ì‘ì—…
  # ========================================
  # ë¹Œë“œì™€ ë°°í¬ë¥¼ ë¶„ë¦¬í•˜ë©´:
  # - ë¹Œë“œ ì‹¤íŒ¨ ì‹œ ë°°í¬ê°€ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ
  # - ë°°í¬ë§Œ ì¬ì‹œë„í•  ìˆ˜ ìˆìŒ
  # - ë³‘ë ¬ ë°°í¬ê°€ ê°€ëŠ¥ (ì—¬ëŸ¬ ì„œë²„ì— ë™ì‹œ ë°°í¬)
  build-and-push:
    name: ë¹Œë“œ ë° GHCR í‘¸ì‹œ
    # ì‹¤í–‰ í™˜ê²½: GitHubì´ ì œê³µí•˜ëŠ” Ubuntu ìµœì‹  ë²„ì „ ì„œë²„ì—ì„œ ì‹¤í–‰
    runs-on: ubuntu-latest

    # GHCRì— í‘¸ì‹œí•˜ê¸° ìœ„í•œ ê¶Œí•œ ì„¤ì •
    permissions:
      contents: read      # ì €ì¥ì†Œ ì½”ë“œë¥¼ ì½ì„ ìˆ˜ ìˆëŠ” ê¶Œí•œ
      packages: write     # GHCRì— Docker ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•  ìˆ˜ ìˆëŠ” ê¶Œí•œ

    steps:
      # ========================================
      # 1. ì½”ë“œ ì²´í¬ì•„ì›ƒ (GitHub ì €ì¥ì†Œì—ì„œ ì½”ë“œ ê°€ì ¸ì˜¤ê¸°)
      # ========================================
      - name: ì½”ë“œ ì²´í¬ì•„ì›ƒ
        # actions/checkout@v4: GitHubì—ì„œ ì œê³µí•˜ëŠ” ê³µì‹ ì•¡ì…˜
        # - í˜„ì¬ ì €ì¥ì†Œì˜ ì½”ë“œë¥¼ ì‘ì—… í™˜ê²½ìœ¼ë¡œ ë³µì‚¬í•©ë‹ˆë‹¤
        # - @v4ëŠ” ë²„ì „ 4ë¥¼ ì˜ë¯¸ (ê°€ì¥ ìµœì‹  ì•ˆì • ë²„ì „)
        uses: actions/checkout@v4

      # ========================================
      # 2. Docker Buildx ì„¤ì •
      # ========================================
      - name: Docker Buildx ì„¤ì •
        # docker/setup-buildx-action@v3: Docker ì´ë¯¸ì§€ ë¹Œë“œ ë„êµ¬ ì„¤ì •
        # - Buildx: Dockerì˜ í™•ì¥ ë¹Œë“œ ê¸°ëŠ¥ (ìºì‹±, ë©€í‹°í”Œë«í¼ ë¹Œë“œ ë“± ì§€ì›)
        # - ë” ë¹ ë¥´ê³  íš¨ìœ¨ì ì¸ ì´ë¯¸ì§€ ë¹Œë“œ ê°€ëŠ¥
        uses: docker/setup-buildx-action@v3

      # ========================================
      # 3. GitHub Container Registry(GHCR)ì— ë¡œê·¸ì¸
      # ========================================
      - name: GHCR ë¡œê·¸ì¸
        # docker/login-action@v3: Docker ë ˆì§€ìŠ¤íŠ¸ë¦¬ ë¡œê·¸ì¸ ì•¡ì…˜
        uses: docker/login-action@v3
        with:
          # ë¡œê·¸ì¸í•  ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì£¼ì†Œ
          registry: ${{ env.REGISTRY }}

          # ì‚¬ìš©ìëª…
          # - ${{ github.actor }}ëŠ” GitHubì´ ìë™ìœ¼ë¡œ ì œê³µ
          # - í˜„ì¬ ì‘ì—…ì„ ì‹¤í–‰í•œ ì‚¬ìš©ìì˜ GitHub ì•„ì´ë””
          username: ${{ github.actor }}

          # ë¹„ë°€ë²ˆí˜¸ (GitHub Token)
          # - ${{ secrets.GITHUB_TOKEN }}ëŠ” GitHubì´ ìë™ìœ¼ë¡œ ìƒì„±
          # - ë³„ë„ë¡œ ë§Œë“¤ í•„ìš” ì—†ìŒ (ìë™ ì œê³µ)
          # - GHCRì— ì´ë¯¸ì§€ë¥¼ ì—…ë¡œë“œí•  ê¶Œí•œ í¬í•¨
          password: ${{ secrets.GITHUB_TOKEN }}

      # ========================================
      # 4. Docker ì´ë¯¸ì§€ ë©”íƒ€ë°ì´í„° ìƒì„±
      # ========================================
      - name: Docker ë©”íƒ€ë°ì´í„° ì¶”ì¶œ
        # id: meta - ì´ ë‹¨ê³„ì˜ ì¶œë ¥ê°’ì„ ë‚˜ì¤‘ì— ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì‹ë³„ì
        id: meta
        # docker/metadata-action@v5: Docker ì´ë¯¸ì§€ íƒœê·¸ì™€ ë¼ë²¨ì„ ìë™ ìƒì„±
        uses: docker/metadata-action@v5
        with:
          # ì´ë¯¸ì§€ ì´ë¦„ ì§€ì •
          images: ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}

          # ìë™ìœ¼ë¡œ ìƒì„±í•  íƒœê·¸ ê·œì¹™
          tags: |
            # ë¸Œëœì¹˜ ì´ë¦„ìœ¼ë¡œ íƒœê·¸ (ì˜ˆ: main)
            type=ref,event=branch
            # Git ì»¤ë°‹ SHAë¡œ íƒœê·¸ (ì˜ˆ: main-abc1234)
            # - íŠ¹ì • ë²„ì „ ì¶”ì ì— ìœ ìš©
            type=sha,prefix={{branch}}-
            # main ë¸Œëœì¹˜ì¼ ê²½ìš° 'latest' íƒœê·¸ ì¶”ê°€
            # - ê°€ì¥ ìµœì‹  ë²„ì „ì„ ì˜ë¯¸í•˜ëŠ” í‘œì¤€ íƒœê·¸
            type=raw,value=latest,enable={{is_default_branch}}

      # ========================================
      # 5. Docker ì´ë¯¸ì§€ ë¹Œë“œ ë° GHCRì— ì—…ë¡œë“œ
      # ========================================
      - name: Docker ì´ë¯¸ì§€ ë¹Œë“œ ë° í‘¸ì‹œ
        # docker/build-push-action@v5: Docker ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•˜ê³  í‘¸ì‹œí•˜ëŠ” ì•¡ì…˜
        uses: docker/build-push-action@v5
        with:
          # ë¹Œë“œ ì»¨í…ìŠ¤íŠ¸: í˜„ì¬ ë””ë ‰í† ë¦¬ (.)
          context: .

          # í”„ë¡œë•ì…˜ìš© Dockerfile ì‚¬ìš©
          file: ./Dockerfile.prod

          # ë¹Œë“œ í›„ ë ˆì§€ìŠ¤íŠ¸ë¦¬ì— í‘¸ì‹œí• ì§€ ì—¬ë¶€
          push: true

          # ì´ë¯¸ì§€ì— ë¶™ì¼ íƒœê·¸ë“¤
          tags: ${{ steps.meta.outputs.tags }}

          # ì´ë¯¸ì§€ ë¼ë²¨ (ë©”íƒ€ë°ì´í„°)
          labels: ${{ steps.meta.outputs.labels }}

          # ë¹Œë“œ ìºì‹œ ì„¤ì • (ë¹Œë“œ ì†ë„ í–¥ìƒ)
          cache-from: type=gha
          cache-to: type=gha,mode=max

  # ========================================
  # ë°°í¬ ì‘ì—…
  # ========================================
  deploy:
    name: Lightsail ì„œë²„ ë°°í¬
    runs-on: ubuntu-latest
    # ë¹Œë“œ ì‘ì—…ì´ ì™„ë£Œëœ í›„ì— ì‹¤í–‰
    needs: build-and-push

    steps:
      # ========================================
      # 1. ì½”ë“œ ì²´í¬ì•„ì›ƒ (docker-compose.prod.yml íŒŒì¼ ì‚¬ìš©ì„ ìœ„í•´)
      # ========================================
      - name: ì½”ë“œ ì²´í¬ì•„ì›ƒ
        uses: actions/checkout@v4

      # ========================================
      # 2. docker-compose.prod.yml íŒŒì¼ ì „ì†¡
      # ========================================
      # SCPë¥¼ ì‚¬ìš©í•˜ì—¬ íŒŒì¼ ì „ì†¡ (ë°±ì—”ë“œì™€ ë™ì¼í•œ ë°©ì‹)
      # - íŒŒì¼ì´ Gitìœ¼ë¡œ ë²„ì „ ê´€ë¦¬ë˜ì–´ ë³€ê²½ ì´ë ¥ ì¶”ì  ê°€ëŠ¥
      # - SSH ìŠ¤í¬ë¦½íŠ¸ ë‚´ catìœ¼ë¡œ ìƒì„±í•˜ëŠ” ê²ƒë³´ë‹¤ ì•ˆì „í•˜ê³  ëª…í™•í•¨
      - name: docker-compose.prod.yml ì „ì†¡
        uses: appleboy/scp-action@v0.1.7
        with:
          host: ${{ secrets.LIGHTSAIL_HOST }}
          username: ${{ secrets.LIGHTSAIL_USER }}
          key: ${{ secrets.LIGHTSAIL_SSH_KEY }}
          port: 22
          source: "docker-compose.prod.yml"
          target: "/home/${{ secrets.LIGHTSAIL_USER }}/frontend/"

      # ========================================
      # 3. Lightsail ì„œë²„ì— SSH ì ‘ì†í•˜ì—¬ ë°°í¬
      # ========================================
      - name: Lightsail ì„œë²„ ë°°í¬
        # appleboy/ssh-action@v1.0.3: SSHë¥¼ í†µí•´ ì›ê²© ì„œë²„ì— ëª…ë ¹ì„ ì‹¤í–‰í•˜ëŠ” ì•¡ì…˜
        uses: appleboy/ssh-action@v1.0.3
        with:
          # Lightsail ì„œë²„ IP ì£¼ì†Œ
          host: ${{ secrets.LIGHTSAIL_HOST }}

          # SSH ì ‘ì† ì‚¬ìš©ìëª… (ë°±ì—”ë“œì™€ ë™ì¼í•œ Secret ì´ë¦„ ì‚¬ìš©)
          username: ${{ secrets.LIGHTSAIL_USER }}

          # SSH Private Key (ë¹„ë°€ í‚¤)
          key: ${{ secrets.LIGHTSAIL_SSH_KEY }}

          # SSH í¬íŠ¸ ë²ˆí˜¸ (ëª…ì‹œì ìœ¼ë¡œ ì§€ì •)
          port: 22

          # ì„œë²„ì—ì„œ ì‹¤í–‰í•  ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
          script: |
            echo "=========================================="
            echo "ğŸš€ í”„ë¡ íŠ¸ì—”ë“œ ë°°í¬ ì‹œì‘"
            echo "=========================================="

            # ===== 1. GitHub Container Registry(GHCR)ì— ë¡œê·¸ì¸ =====
            # GitHub Actionsì—ì„œ ìë™ ìƒì„±ë˜ëŠ” GITHUB_TOKENì„ ì‚¬ìš©
            # - ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ ì‹œ í† í° ê°’ì´ ìŠ¤í¬ë¦½íŠ¸ì— ì‚½ì…ë˜ì–´ ì „ë‹¬ë¨
            # - ë³„ë„ì˜ Personal Access Token ìƒì„± ë¶ˆí•„ìš”
            echo "ğŸ“¦ GHCR ë¡œê·¸ì¸ ì¤‘..."
            echo "${{ secrets.GITHUB_TOKEN }}" | sudo docker login ghcr.io -u ${{ github.actor }} --password-stdin

            # ===== 2. í”„ë¡ íŠ¸ì—”ë“œ ë””ë ‰í† ë¦¬ë¡œ ì´ë™ =====
            # SCP actionìœ¼ë¡œ ì´ë¯¸ ì „ì†¡ëœ íŒŒì¼ì´ ìˆëŠ” ë””ë ‰í† ë¦¬
            FRONTEND_DIR="/home/${{ secrets.LIGHTSAIL_USER }}/frontend"
            mkdir -p $FRONTEND_DIR
            cd $FRONTEND_DIR

            # ===== 3. docker-compose.prod.yml íŒŒì¼ í™•ì¸ =====
            echo "ğŸ“ docker-compose.prod.yml íŒŒì¼ í™•ì¸ ì¤‘..."
            ls -lh $FRONTEND_DIR/docker-compose.prod.yml

            # ===== 4. ìµœì‹  Docker ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ =====
            # docker compose pull: ë ˆì§€ìŠ¤íŠ¸ë¦¬ì—ì„œ ìµœì‹  ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œ
            echo "ğŸ“¥ ìµœì‹  ì´ë¯¸ì§€ í’€ë§ ì¤‘..."
            sudo docker compose -f docker-compose.prod.yml pull

            # ===== 5. ì»¨í…Œì´ë„ˆ ì‹œì‘/ì¬ì‹œì‘ (ë¬´ì¤‘ë‹¨ ë°°í¬) =====
            # docker compose up: ì»¨í…Œì´ë„ˆ ìƒì„± ë° ì‹œì‘
            # - -d: ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰ (detached mode)
            # - --force-recreate: ì„¤ì • ë³€ê²½ì´ ì—†ì–´ë„ ì»¨í…Œì´ë„ˆ ì¬ìƒì„±
            echo "ğŸ”„ ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘ ì¤‘..."
            sudo docker compose -f docker-compose.prod.yml up -d --force-recreate

            # ===== 6. ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì´ë¯¸ì§€ ì •ë¦¬ =====
            # docker image prune: ë¶ˆí•„ìš”í•œ ì´ë¯¸ì§€ ì‚­ì œë¡œ ë””ìŠ¤í¬ ê³µê°„ í™•ë³´
            # - -a: ëª¨ë“  ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì´ë¯¸ì§€ ì‚­ì œ
            # - -f: í™•ì¸ ì—†ì´ ê°•ì œ ì‚­ì œ (force)
            echo "ğŸ§¹ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì´ë¯¸ì§€ ì •ë¦¬ ì¤‘..."
            sudo docker image prune -af

            # ===== 7. ë°°í¬ ê²°ê³¼ í™•ì¸ =====
            # docker compose ps: ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆ ìƒíƒœ í™•ì¸
            echo "=========================================="
            echo "âœ… ë°°í¬ ì™„ë£Œ!"
            echo "=========================================="
            sudo docker compose -f docker-compose.prod.yml ps

            # í—¬ìŠ¤ì²´í¬ ëŒ€ê¸°
            echo "â³ í—¬ìŠ¤ì²´í¬ ëŒ€ê¸° ì¤‘ (10ì´ˆ)..."
            sleep 10

            # í”„ë¡ íŠ¸ì—”ë“œ ìƒíƒœ í™•ì¸
            echo "ğŸ” í”„ë¡ íŠ¸ì—”ë“œ ìƒíƒœ í™•ì¸..."
            curl -s -o /dev/null -w "%{http_code}" http://localhost/ || echo "Warning: Health check failed"

            echo "=========================================="
            echo "ğŸ‰ ë°°í¬ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!"
            echo "ğŸŒ URL: http://${{ secrets.LIGHTSAIL_HOST }}"
            echo "=========================================="

# ================================================
# GitHub Secrets ì„¤ì • ê°€ì´ë“œ
# ================================================
#
# GitHub ì €ì¥ì†Œ â†’ Settings â†’ Secrets and variables â†’ Actions
# ì—ì„œ ë‹¤ìŒ ì‹œí¬ë¦¿ë“¤ì„ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤:
#
# í•„ìˆ˜ Secrets:
# ------------------------------------------------
# 1. LIGHTSAIL_HOST
#    - Lightsail ì„œë²„ IP ì£¼ì†Œ
#    - ì˜ˆ: 16.184.53.118
#
# 2. LIGHTSAIL_USER (ë°±ì—”ë“œì™€ ë™ì¼í•œ ì´ë¦„ ì‚¬ìš©)
#    - SSH ì ‘ì† ì‚¬ìš©ìëª…
#    - Amazon Linux: ec2-user
#    - Ubuntu: ubuntu
#
# 3. LIGHTSAIL_SSH_KEY
#    - Lightsail SSH ê°œì¸ í‚¤ ì „ì²´ ë‚´ìš©
#    - -----BEGIN RSA PRIVATE KEY----- ë¶€í„°
#    - -----END RSA PRIVATE KEY----- ê¹Œì§€ ì „ë¶€ ë³µì‚¬
#
# ìë™ ì œê³µ (ë³„ë„ ì„¤ì • ë¶ˆí•„ìš”):
# ------------------------------------------------
# - GITHUB_TOKEN: GitHub Actionsê°€ ìë™ìœ¼ë¡œ ìƒì„±
#   - GHCRì— ì´ë¯¸ì§€ push/pull ê¶Œí•œ í¬í•¨
#   - ì›Œí¬í”Œë¡œìš° ì‹¤í–‰ ì‹œ ìë™ ì œê³µë˜ë¯€ë¡œ ë³„ë„ ì„¤ì • ë¶ˆí•„ìš”
#
# ================================================
# GITHUB_TOKEN ë™ì‘ ì›ë¦¬
# ================================================
#
# Q: Lightsail ì„œë²„ëŠ” GitHub Actions í™˜ê²½ì´ ì•„ë‹Œë°
#    ì–´ë–»ê²Œ GITHUB_TOKENì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‚˜ìš”?
#
# A: GITHUB_TOKENì˜ ê°’ì´ SSH ìŠ¤í¬ë¦½íŠ¸ì— ë¬¸ìì—´ë¡œ ì¹˜í™˜ë˜ì–´
#    Lightsail ì„œë²„ë¡œ ì „ë‹¬ë©ë‹ˆë‹¤.
#
#    1. GitHub Actions Runnerì—ì„œ ${{ secrets.GITHUB_TOKEN }}ì´
#       ì‹¤ì œ í† í° ë¬¸ìì—´ë¡œ ì¹˜í™˜ë¨
#    2. ê·¸ ë¬¸ìì—´ì´ SSH ëª…ë ¹ì–´ì™€ í•¨ê»˜ Lightsailë¡œ ì „ì†¡ë¨
#    3. Lightsailì—ì„œ í•´ë‹¹ í† í°ìœ¼ë¡œ GHCRì— ë¡œê·¸ì¸
#
# ================================================
# íŠ¸ëŸ¬ë¸”ìŠˆíŒ…
# ================================================
#
# Q1. "Permission denied" SSH ì˜¤ë¥˜
# A1. LIGHTSAIL_SSH_KEYê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸
#     - ê°œì¸ í‚¤ ì „ì²´ë¥¼ ë³µì‚¬í–ˆëŠ”ì§€ í™•ì¸
#     - ì¤„ë°”ê¿ˆì´ ì œëŒ€ë¡œ í¬í•¨ë˜ì—ˆëŠ”ì§€ í™•ì¸
#
# Q2. "network prod-network not found" ì˜¤ë¥˜
# A2. ë°±ì—”ë“œë¥¼ ë¨¼ì € ë°°í¬í•˜ì„¸ìš” (ë„¤íŠ¸ì›Œí¬ ìë™ ìƒì„±ë¨)
#     ë˜ëŠ” ìˆ˜ë™ìœ¼ë¡œ ë„¤íŠ¸ì›Œí¬ ìƒì„±:
#     docker network create prod-network
#
# Q3. ì´ë¯¸ì§€ í’€ ì‹¤íŒ¨ (denied ì˜¤ë¥˜)
# A3. GITHUB_TOKENì´ ì˜¬ë°”ë¥´ê²Œ ì „ë‹¬ë˜ëŠ”ì§€ í™•ì¸
#     - ì›Œí¬í”Œë¡œìš° íŒŒì¼ì˜ permissions ì„¤ì • í™•ì¸
#     - packages: write ê¶Œí•œ í•„ìš”
#
# Q4. 502 Bad Gateway
# A4. ë°±ì—”ë“œê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
#     docker ps | grep prod-backend
#
# ================================================
